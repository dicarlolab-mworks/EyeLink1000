---


name: EyeLink Device
signature: iodevice/eyelink
isa: IODevice
platform: macos
description: |
    Digital interface to an `EyeLink <http://www.sr-research.com>`_
    eye tracker.  Tested with the
    `EyeLink 1000 <http://www.sr-research.com/eyelink1000.html>`_ and
    `EyeLink II <http://www.sr-research.com/eyelinkII.html>`_ trackers,
    but may be compatible with additional devices.

    If the tracker is run in binocular mode, `eye_x`_, `eye_y`_, and `eye_z`_
    give the midpoint of the shortest connecting line that is orthogonal to both
    gaze vectors; otherwise, these values will be empty.  All other output
    parameters are specified and described in the `EyeLink 1000 User Manual
    <file:///Applications/Eyelink/docs/EyeLink1000_UserManual.pdf>`_.

parameters: 
  - 
    name: tracker_ip
    required: yes
    example: 100.1.1.1
    description: The tracker's IP address
  - 
    name: tracking_dist
    example: 1024
    description: >
        Tracking range in eye tracker units.  (The default value should be
        1024.)
  - 
    name: data_interval
    required: yes
    example: 1ms
    description: >
        Data polling interval.  Should not be too short, but faster than
        tracker's sampling rate.
  - 
    name: eye_rx
    description: Variable in which to store right eye screen gaze x
  - 
    name: eye_ry
    description: Variable in which to store right eye screen gaze y
  - 
    name: eye_lx
    description: Variable in which to store left eye screen gaze x
  - 
    name: eye_ly
    description: Variable in which to store left eye screen gaze y
  - 
    name: eye_x
    description: Variable in which to store computed ``eye_x`` (described above)
  - 
    name: eye_y
    description: Variable in which to store computed ``eye_y`` (described above)
  - 
    name: eye_z
    description: Variable in which to store computed ``eye_z`` (described above)
  - 
    name: href_rx
    description: Variable in which to store right eye headref x
  - 
    name: href_ry
    description: Variable in which to store right eye headref y
  - 
    name: href_lx
    description: Variable in which to store left eye headref x
  - 
    name: href_ly
    description: Variable in which to store left eye headref y
  - 
    name: pupil_rx
    description: Variable in which to store right eye pupil x
  - 
    name: pupil_ry
    description: Variable in which to store right eye pupil y
  - 
    name: pupil_lx
    description: Variable in which to store left eye pupil x
  - 
    name: pupil_ly
    description: Variable in which to store left eye pupil y
  - 
    name: pupil_size_r
    description: Variable in which to store right pupil size or area
  - 
    name: pupil_size_l
    description: Variable in which to store left pupil size or area
  - 
    name: blink_r
    description: >
        Variable in which to store right eye blink state (true when blinking,
        false otherwise)
  - 
    name: blink_l
    description: >
        Variable in which to store left eye blink state (true when blinking,
        false otherwise)
  - 
    name: saccade_r
    description: >
        Variable in which to store right eye saccade state (true when in
        saccade, false otherwise)
  - 
    name: saccade_l
    description: >
        Variable in which to store left eye saccade state (true when in
        saccade, false otherwise)
  - 
    name: fixation_r
    description: >
        Variable in which to store right eye fixation state (true when fixating,
        false otherwise)
  - 
    name: fixation_l
    description: >
        Variable in which to store left eye fixation state (true when fixating,
        false otherwise)
  - 
    name: cal_target_x
    description: Variable in which to store calibration target x coordinate
  - 
    name: cal_target_y
    description: Variable in which to store calibration target y coordinate
  - 
    name: cal_target_visible
    description: >
        Variable in which to store calibration target visibility state (true
        when the target should be visible, false when it should be hidden)
  - 
    name: eye_time
    description: Variable in which to store time of sample (on EyeLink clock)


---


name: EyeLink Tracker Setup
signature: action/eyelink_tracker_setup
isa: Action
platform: macos
description: >
    Prepare for calibration and launch the setup screen of an `EyeLink Device`
parameters: 
  - 
    name: device
    required: yes
    description: Name of EyeLink device
  - 
    name: calibration_type
    options: [H3, HV3, HV5, HV9, HV13]
    default: HV9
    description: Desired calibration type


